extends Status

class_name Vulnerabilidade

func _init() -> void:
	status_name = 'Vulnerabilidade I'
	status_value = 55
	status_turn_duration = 5

func activate(_user, _target, value, battleSceneController, prompt):
	if is_status_activated:
		return
	
	is_status_activated = true
	print("habilidade ativou")

	user = _user
	target = _target
	update_status_dictionary()
	update_skill_dictionary()

	for t in target:
		t.char_defense = max(1, t.char_defense - (t.char_defense * self.status_value / 100.0))

	battleSceneController.activatedStatusEffects.append(self)
	which_turn_ends = battleSceneController.turn + self.status_turn_duration
